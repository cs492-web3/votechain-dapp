(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6310],{50208:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boss-admin",function(){return e(12300)}])},71618:function(t,n,e){"use strict";var i=e(85893),r=e(69417),a=e(16829);let o=(0,a.Z)("div")(()=>({marginTop:5})),s=(0,a.Z)("div")(()=>({marginTop:15,marginBottom:15,fontSize:"18px",color:"#0288d1"})),l=(0,a.Z)(r.Z)(()=>({marginTop:30,fontSize:"15px",color:"#0288d1",border:"1px solid #0288d1"})),c=t=>{let{NFTCA:n,tokenId:e}=t,r="https://pixxiti.com/ethereum/goerli/nfts/"+n+"/"+e;return(0,i.jsxs)("div",{style:{marginTop:"10px"},children:[(0,i.jsx)(s,{children:"You got NFT as Reward! \uD83C\uDF07"}),(0,i.jsx)(o,{children:"Your NFT contract Address is ".concat(n," ")}),(0,i.jsx)(o,{children:"Your Token ID is ".concat(e)}),(0,i.jsx)(l,{onClick:()=>window.open(r,"_blank"),children:"Check Your NFT"})]})};n.Z=c},33668:function(t,n,e){"use strict";e.d(n,{Z:function(){return d}});var i=e(85893);e(67294);var r=e(69417),a=e(50657),o=e(31425),s=e(6514),l=e(58951),c=e(37645),u=e(71618);function d(t){let{open:n,result:e,handleClose:d,onClickClose:p,NFTCA:m,tokenId:f}=t;return(0,i.jsx)("div",{children:(0,i.jsxs)(a.Z,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"xl",fullWidth:!0,children:[(0,i.jsx)(c.Z,{id:"alert-dialog-title",children:"Transaction Result"}),(0,i.jsxs)(s.Z,{children:[0!=Object.entries(e).length?(0,i.jsxs)(l.Z,{id:"alert-dialog-description",children:[(0,i.jsx)("div",{children:"Transaction Result : ".concat(e.status)}),(0,i.jsx)("div",{children:e.message})]}):(0,i.jsx)(l.Z,{id:"alert-dialog-description",children:"Transaction ongoing"}),"success"==e.status&&m&&f&&(0,i.jsx)(u.Z,{NFTCA:m,tokenId:f})]}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(r.Z,{onClick:p,children:"CLOSE"})})]})})}},93544:function(t,n,e){"use strict";e.d(n,{Jy:function(){return c},qq:function(){return d},nD:function(){return u},TT:function(){return l},V3:function(){return p}});var i=e(40624),r=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"addressString","type":"string"}],"name":"addContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"contractInfos","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"contractAddress","type":"string"},{"internalType":"bool","name":"isDeleted","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"contracts","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"deleteContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAllContracts","outputs":[{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"contractAddress","type":"string"},{"internalType":"bool","name":"isDeleted","type":"bool"}],"internalType":"struct admin_contract.ContractInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getIsAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"reopenContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalContractNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]');let a=(0,i.gL)("wss://eth-goerli.g.alchemy.com/v2/tzC7BEXGGRYsQDD6Qw8XkCYRNx3Ve4EL"),o="0x12D1FC33d8aa9b1E4bb1F2e8e2E97EC7efb28F94",s=new a.eth.Contract(r,o),l=async t=>{let n=await s.methods.getIsAdmin(t).call();return n},c=async(t,n,e)=>{let i=s.methods.addContract(n,e).encodeABI(),r=await m(t,i);return r},u=async()=>{let t=await s.methods.getAllContracts().call();return t},d=async(t,n)=>{let e=s.methods.deleteContract(n).encodeABI(),i=await m(t,e);return i},p=async(t,n)=>{let e=s.methods.reopenContract(n).encodeABI(),i=await m(t,e);return i};async function m(t,n){if(""==t)return{status:"fail",message:"\uD83D\uDCA1 Connect your Metamask wallet to vote on the blockchain."};try{let e=await window.ethereum.request({method:"eth_sendTransaction",params:[{to:o,from:t,data:n}]});return{status:"success",message:e}}catch(i){return{status:"fail",message:"\uD83D\uDE25 "+i.message}}}},12300:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return O}});var i=e(85893),r=e(67294),a=e(7297),o=e(90948),s=e(15861),l=e(69417);function c(){let t=(0,a.Z)(["\n  variant: h1;\n  align: center;\n  color: white;\n  font-size: 25px;\n  text-align: center;\n  width: 100%;\n  margin-bottom: 40px;\n"]);return c=function(){return t},t}function u(){let t=(0,a.Z)(["\n  align: left;\n  color: white;\n  font-size: 20px;\n  margin: 20px;\n"]);return u=function(){return t},t}function d(){let t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  min-height: 50vh;\n  padding: 30px;\n"]);return d=function(){return t},t}function p(){let t=(0,a.Z)(["\n  border: 1px solid #42a5f5;\n  background-color: rgba(25, 118, 210, 0.5);\n  border-radius: 30px;\n  padding: 15px;\n  color: white;\n"]);return p=function(){return t},t}let m=(0,o.ZP)(s.Z)(c()),f=(0,o.ZP)(s.Z)(u()),y=(0,o.ZP)("div")(d());(0,o.ZP)(l.Z)(p());var x=e(93544),h=e(4480),g=e(73699),b=e(16829),Z=e(89683);function w(){let t=(0,a.Z)(["\n  margin-right: 20px;\n  & label.Mui-focused {\n    color: #1976d2;\n  }\n  & .MuiOutlinedInput-root {\n    fieldset {\n      border-color: #1976d2;\n    }\n  }\n"]);return w=function(){return t},t}function C(){let t=(0,a.Z)(["\n  variant: h1;\n  color: white;\n  font-size: 20px;\n  margin-bottom: 10px;\n"]);return C=function(){return t},t}function v(){let t=(0,a.Z)(["\n  color: white;\n  font-size: 15px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n"]);return v=function(){return t},t}function j(){let t=(0,a.Z)(["\n  border: 1px solid #42a5f5;\n  background-color: rgba(25, 118, 210, 0);\n  border-radius: 30px;\n  padding: 15px;\n  color: white;\n"]);return j=function(){return t},t}(0,b.Z)("div")(()=>({marginTop:40,marginLeft:"10px",marginRight:"10px",height:"100%"})),(0,b.Z)("div")(()=>({display:"flex",flexDirection:"column"})),(0,b.Z)("div")(()=>({display:"flex",flexDirection:"row"})),(0,b.Z)("div")(()=>({border:"1px solid #fbc02d",backgroundColor:"rgba(251, 192, 45, 0.3)",color:"white",padding:10,margin:10,borderRadius:20}));let T=(0,b.Z)("div")(()=>({marginTop:20})),D=(0,b.Z)(Z.Z)(w());(0,b.Z)(s.Z)(C());let k=(0,b.Z)(s.Z)(v()),A=(0,b.Z)(l.Z)(j());var N=e(33668);let I=()=>{let[t,n]=(0,r.useState)(""),[e,a]=(0,r.useState)(""),[o,s]=(0,r.useState)({}),[l,c]=(0,r.useState)(!1),u=(0,h.useRecoilValue)(g.c),d=async()=>{c(!0);let n=await (0,x.Jy)(u,t,e);s(n)},p=()=>{0!=Object.entries(s).length&&c(!1)},m=()=>{c(!1)};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(T,{children:[(0,i.jsx)(k,{children:" Contract 추가하기 "}),(0,i.jsx)(D,{id:"outlined-basic",label:"Contract Name",variant:"outlined",value:t,onChange:t=>{n(t.target.value)},InputLabelProps:{style:{color:"grey"}},inputProps:{style:{color:"white"}}}),(0,i.jsx)(D,{id:"outlined-basic",label:"Contract Address",variant:"outlined",value:e,InputLabelProps:{style:{color:"grey"}},onChange:t=>{a(t.target.value.trim())},inputProps:{style:{color:"white"}}}),(0,i.jsx)(A,{onClick:d,children:"추가하기"})]}),(0,i.jsx)(N.Z,{open:l,handleClose:p,onClickClose:m,result:o})]})};function _(){let t=(0,a.Z)(["\n  variant: h1;\n  color: white;\n  font-size: 20px;\n  margin-bottom: 10px;\n"]);return _=function(){return t},t}function E(){let t=(0,a.Z)(["\n  color: white;\n  font-size: 15px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n"]);return E=function(){return t},t}function M(){let t=(0,a.Z)(["\n  border: 1px solid;\n  border-radius: 30px;\n  padding: 5px;\n  color: white;\n  width: 200px;\n  margin-top: 20px;\n  margin-bottom: 10px;\n"]);return M=function(){return t},t}let S=(0,b.Z)("div")(()=>({display:"flex",flexDirection:"column",border:"1px solid #42a5f5",color:"white",padding:20,margin:10,borderRadius:20}));(0,b.Z)(s.Z)(_());let R=(0,b.Z)(s.Z)(E()),P=(0,b.Z)(l.Z)(M());var z=e(11163);let F=t=>{let{data:n}=t,[e,a]=(0,r.useState)({}),[o,s]=(0,r.useState)(!1),l=(0,h.useRecoilValue)(g.c),c=(0,z.useRouter)(),u=()=>{0!=Object.entries(a).length&&(s(!1),c.reload())},d=()=>{s(!1),c.reload()},p=async()=>{if(s(!0),n.isDeleted){let t=await (0,x.V3)(l,Number(n.id));a(t)}else{let e=await (0,x.qq)(l,Number(n.id));a(e)}};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(S,{children:[(0,i.jsx)(R,{children:"Contract ID : ".concat(n.id)}),(0,i.jsx)(R,{children:"Contract Name : ".concat(n.name)}),(0,i.jsx)(R,{children:"Contract Address : ".concat(n.contractAddress)}),(0,i.jsx)(R,{children:"Contract Inactivated : ".concat(n.isDeleted)}),(0,i.jsxs)(P,{onClick:p,children:[n.isDeleted?"Activate":"Inactivate"," Contract"]})]}),(0,i.jsx)(N.Z,{open:o,handleClose:u,onClickClose:d,result:e})]})};function O(){let[t,n]=(0,r.useState)(!1),[e,a]=(0,r.useState)([]),o=(0,h.useRecoilValue)(g.c);return(0,r.useEffect)(()=>{(async function(){if(""!=o){let t=await (0,x.TT)(o);n(t)}})()},[o]),(0,r.useEffect)(()=>{async function n(){let t=await (0,x.nD)();return a(t),t}t&&n()},[t]),(0,i.jsx)(y,{children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m,{children:"관리자 페이지에 오신 것을 환영합니다"}),(0,i.jsx)(f,{children:" 현재 등록된 투표들"}),e.map((t,n)=>(0,i.jsx)(F,{data:t},n)),(0,i.jsx)(I,{})]}):(0,i.jsx)(m,{children:"관리자가 아닙니다"})})}}},function(t){t.O(0,[8543,8764,624,3864,5087,9774,2888,179],function(){return t(t.s=50208)}),_N_E=t.O()}]);