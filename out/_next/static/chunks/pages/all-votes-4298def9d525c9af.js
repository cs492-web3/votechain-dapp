(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8125],{4862:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/all-votes",function(){return n(27687)}])},27687:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return R}});var i=n(85893),a=n(67294),o=n(90629),s=n(86010),u=n(94780),r=n(27623),l=n(11496),p=n(1588),d=n(34867);function c(t){return(0,d.Z)("MuiCardActionArea",t)}let y=(0,p.Z)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var m=n(47739);let f=t=>{let{classes:e}=t;return(0,u.Z)({root:["root"],focusHighlight:["focusHighlight"]},c,e)},h=(0,l.ZP)(m.Z,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${y.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${y.focusVisible} .${y.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),g=(0,l.ZP)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),T=a.forwardRef(function(t,e){let n=(0,r.Z)({props:t,name:"MuiCardActionArea"}),{children:a,className:o,focusVisibleClassName:u,...l}=n,p=f(n);return(0,i.jsxs)(h,{className:(0,s.default)(p.root,o),focusVisibleClassName:(0,s.default)(u,p.focusVisible),ref:e,ownerState:n,...l,children:[a,(0,i.jsx)(g,{className:p.focusHighlight,ownerState:n})]})});function v(t){return(0,d.Z)("MuiCardContent",t)}(0,p.Z)("MuiCardContent",["root"]);let b=t=>{let{classes:e}=t;return(0,u.Z)({root:["root"]},v,e)},w=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),C=a.forwardRef(function(t,e){let n=(0,r.Z)({props:t,name:"MuiCardContent"}),{className:a,component:o="div",...u}=n,l={...n,component:o},p=b(l);return(0,i.jsx)(w,{as:o,className:(0,s.default)(p.root,a),ownerState:l,ref:e,...u})});var M=n(15861),x=n(11163);let A=t=>{let e=(0,x.useRouter)(),n=()=>{e.push("/vote/1")};return(0,i.jsx)("div",{children:(0,i.jsx)(o.Z,{sx:{minWidth:275,minHeight:275,margin:5,borderRadius:20,display:"flex",alignContent:"center",justifyContent:"center"},children:(0,i.jsx)(T,{onClick:n,children:(0,i.jsx)(C,{sx:{width:"100%",display:"flex",alignContent:"center",justifyContent:"center"},children:(0,i.jsx)(M.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"투표 참여하기"})})})})})};var E=n(16829);let N=(0,E.Z)("div")(()=>({marginLeft:"4rem",marginRight:"4rem",height:"100%"})),S=(0,E.Z)("div")(()=>({display:"flex",flexDirection:"column"}));n(89917);let k=()=>{let[t,e]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[s,u]=(0,a.useState)([]);return(0,i.jsx)(N,{children:(0,i.jsxs)(S,{children:[(0,i.jsx)(A,{}),(0,i.jsx)(A,{})]})})};var R=k},89917:function(t,e,n){"use strict";n.d(e,{l4:function(){return r},Tx:function(){return p},o5:function(){return m},BF:function(){return f},yr:function(){return b},TT:function(){return g},Uu:function(){return v},M$:function(){return T},M3:function(){return y},Zq:function(){return h},fR:function(){return d},sj:function(){return l},s4:function(){return c}});var i=n(1117),a=JSON.parse('[{"inputs":[{"internalType":"address","name":"_NFTTokenCA","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"}],"name":"candRegisteredEvent","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"enum Election_step2.ElectionStatus","name":"prev","type":"uint8"},{"indexed":false,"internalType":"enum Election_step2.ElectionStatus","name":"end","type":"uint8"}],"name":"statusChangedEvent","type":"event"},{"anonymous":false,"inputs":[],"name":"voteDoneEvent","type":"event"},{"inputs":[],"name":"NFTTokenCA","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"VoteNFT","outputs":[{"internalType":"contract NFTToken","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"candidates","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"voteCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"electionStatus","outputs":[{"internalType":"enum Election_step2.ElectionStatus","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"endRegisterCandSession","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endVoteSession","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getCandidateName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"id","type":"uint256"}],"name":"getCandidateVoteCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getElectionStatus","outputs":[{"internalType":"enum Election_step2.ElectionStatus","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getHasVoted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getIsAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNFTTokenCA","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalCandidateNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalVoteCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"registerCandidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"restartVoteSession","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startVoteSession","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalCandidateNum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalVoteCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"candidateId","type":"uint256"}],"name":"vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"candidateId","type":"uint256"}],"name":"voteAndGetNFT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voters","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"votersToToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]');let o=(0,i.gL)("wss://eth-goerli.g.alchemy.com/v2/tzC7BEXGGRYsQDD6Qw8XkCYRNx3Ve4EL"),s="0x03dEbe046471Cb09662D26cE5E29cbCe2d32645e",u=new o.eth.Contract(a,s),r=async t=>{let e=u.methods.endRegisterCandSession().encodeABI(),n=await w(t,e);return n},l=async t=>{let e=u.methods.startVoteSession().encodeABI(),n=await w(t,e);return n},p=async t=>{let e=u.methods.endVoteSession().encodeABI(),n=await w(t,e);return n},d=async(t,e)=>{let n=u.methods.registerCandidate(e).encodeABI(),i=await w(t,n);return i},c=async(t,e)=>{let n=u.methods.voteAndGetNFT(e).encodeABI(),i=await w(t,n);return i},y=async()=>{let t=await u.methods.getTotalCandidateNum().call();return t},m=async(t,e)=>{let n=await u.methods.getCandidateName(e).call({from:t});return n},f=async(t,e)=>{let n=await u.methods.getCandidateVoteCount(e).call({from:t});return n},h=async t=>{let e=await u.methods.getTotalVoteCount().call({from:t});return e},g=async t=>{let e=await u.methods.getIsAdmin(t).call();return e},T=async t=>{let e=await u.methods.getTokenId(t).call();return console.log(e),e},v=async()=>{let t=await u.methods.getNFTTokenCA().call();return console.log(t),t},b=async()=>{let t=await u.methods.getElectionStatus().call();return t};async function w(t,e){if(""==t)return{status:"fail",message:"\uD83D\uDCA1 Connect your Metamask wallet to vote on the blockchain."};try{let n=await window.ethereum.request({method:"eth_sendTransaction",params:[{to:s,from:t,data:e}]});return{status:"success",message:n}}catch(i){return{status:"fail",message:"\uD83D\uDE25 "+i.message}}}},89214:function(){},85568:function(){},52361:function(){},94616:function(){}},function(t){t.O(0,[8543,8764,33,2520,9774,2888,179],function(){return t(t.s=4862)}),_N_E=t.O()}]);